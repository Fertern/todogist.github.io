!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var r=class{constructor(e){this.id=e.id,this.title=e.title,this.description=e.description,this.priority=e.priority,this.isDone=e.isDone}saveInfo(e){localStorage.setItem("globalStorage",JSON.stringify(e))}deleteInfo(e){let t=this.id,i=e.findIndex((function(e){return parseInt(e.id)===t}));e.splice(i,1),this.saveInfo(e)}};var n=function(e){let t=`<article id='${e.id}'\n  ${e.isDone?'class="card__wrapper open"':"class='card__wrapper'"} >\n  <div class='card__text'>\n    <div id='${"card__title"+e.id}' class='card__title'>\n    ${e.title}</div>\n    <input value='${e.title}' maxlength="30"\n    id="${"edited-title"+e.id}" class='edited-title hide'/>\n    <div id='${"card__description"+e.id}' class='card__description'>\n    ${e.description}</div>\n    <textarea value='${e.description}' maxlength="150" id="${"edited-description"+e.id}" class='edited-description hide'>${e.description}</textarea>\n  </div>\n  <div class='card__down'>\n    <span id='${"card__priority"+e.id}' class='card__priority'>\n    ${e.priority}</span>\n    <div class="edit-select select">\n      <select id='${"edited-priority"+e.id}'\n        class="edited-priority hide" >\n        <option selected value="High">High</option>\n        <option value="Normal">Normal</option>\n        <option value="Low">Low</option>\n      </select>\n    </div>\n    <span id='${"card__edit"+e.id}'  class='card__edit'>\n      <div class='extra-img'>...</div>\n      <div class='extra-menu'>\n        <button class='extra-menu__done'>Done</button>\n        <button class='extra-menu__edit'>Edit</button>\n        <button class='extra-menu__delete'>Delete</button>\n          </div>\n    </span>\n    <span id='${"ok"+e.id}' class='ok'>OK</span>\n  </div>\n</article>`;v.insertAdjacentHTML("afterbegin",t);let i=document.querySelector(".extra-menu__edit"),r=document.querySelector(".extra-menu__done"),n=document.querySelector(".extra-menu__delete");i.addEventListener("click",s.editCard),r.addEventListener("click",s.doneCard),n.addEventListener("click",s.deleteCard)};var d={retrieveId:(e,t)=>e.target.closest(t).getAttribute("id"),findIndex:(e,t)=>t.findIndex(t=>t.id===e)};var o=function(e){let t,i,r,d=h.value,o=L.value;t="All"===d&&"All"===o?e.filter(e=>e.title.toLowerCase().includes(_.value.toLowerCase())):"All"===d&&"All"!==o?(i=e.filter(e=>e.priority===o)).filter(e=>e.title.toLowerCase().includes(_.value.toLowerCase())):"open"===d&&"All"!==o?(i=(r=e.filter(e=>!1===e.isDone)).filter(e=>e.priority===o)).filter(e=>e.title.toLowerCase().includes(_.value.toLowerCase())):"done"===d&&"All"!==o?(i=(r=e.filter(e=>!0===e.isDone)).filter(e=>e.priority===o)).filter(e=>e.title.toLowerCase().includes(_.value.toLowerCase())):(r="open"===d?e.filter(e=>!1===e.isDone):e.filter(e=>!0===e.isDone)).filter(e=>e.title.toLowerCase().includes(_.value.toLowerCase())),v.innerHTML="",t.forEach(e=>n(e))};var l=function(e){if(JSON.parse(localStorage.getItem("globalStorage"))){JSON.parse(localStorage.getItem("globalStorage")).map((function(e){return new r({id:e.id,title:e.title,description:e.description,priority:e.priority,isDone:e.isDone})})).forEach(e=>n(e))}};let a=[],s={addCard(){if(u.value){let e=new r({id:`f${(~~(1e5*Math.random())).toString()}`,title:u.value,description:p.value,priority:f.value,isDone:!1});a.push(e),n(e),e.saveInfo(a),u.value="",p.value="",u.classList.remove("alert"),S()}else u.setAttribute("placeholder","Card must have a title!"),u.classList.add("alert")},editCard(e){let t=d.findIndex(d.retrieveId(e,"article"),a),i=a[t].id,r="#card__title"+i,n="#card__description"+i,o="#card__priority"+i,l="#card__edit"+i,s="#edited-title"+i,c="#edited-description"+i,u="#edited-priority"+i,p="#ok"+i,f=document.querySelector(s),v=document.querySelector(c),g=document.querySelector(u),m=document.querySelector(r),y=document.querySelector(n),_=document.querySelector(o),h=document.querySelector(l),L=document.querySelector(p);return L.addEventListener("click",saveOk),f.classList.toggle("hide"),v.classList.toggle("hide"),g.classList.toggle("hide"),m.classList.toggle("hide"),y.classList.toggle("hide"),_.classList.toggle("hide"),h.classList.toggle("hide"),L.classList.toggle("hide"),[m,f,y,v,_,g,i,t]},saveOk(e){let t=editCard(e);t[0].innerHTML=t[1].value,t[2].innerHTML=t[3].value,t[4].innerHTML=t[5].value;let i=a.find(e=>e.id===t[6]);i.title=t[1].value,i.description=t[3].value,i.priority=t[5].value,a[t[7]].saveInfo(a)},doneCard(e){let t=d.findIndex(d.retrieveId(e,"article"),a),i="#"+a[t].id,r=document.querySelector(i),n=a.find(e=>e.id===a[t].id);r.classList.toggle("open"),n.isDone?n.isDone=!1:n.isDone=!0,a[t].saveInfo(a)},deleteCard(e){let t=d.findIndex(d.retrieveId(e,"article"),a);a[t].deleteInfo(a),e.target.closest("article").remove()}},c={handlePageLoad(){l(a)},searchAll(){o(a)}};i.d(t,"inputTitle",(function(){return u})),i.d(t,"inputDescription",(function(){return p})),i.d(t,"inputPriority",(function(){return f})),i.d(t,"cardsArea",(function(){return v})),i.d(t,"editMenu",(function(){return g})),i.d(t,"menu",(function(){return m})),i.d(t,"searchTitle",(function(){return y})),i.d(t,"inputSearch",(function(){return _})),i.d(t,"searchStatus",(function(){return h})),i.d(t,"searchPriority",(function(){return L})),i.d(t,"toggleEditMenu",(function(){return S}));const u=document.querySelector("#input-title"),p=document.querySelector("#input-description"),f=document.querySelector("#input-priority"),v=document.getElementById("cards-area"),g=document.getElementById("edit-menu"),m=document.getElementById("menu"),y=document.getElementById("search-title"),_=document.querySelector(".search-title__bar"),h=document.getElementById("search-status"),L=document.getElementById("search-priority"),S=function(){u.setAttribute("placeholder","Your title.."),u.classList.remove("alert"),g.classList.toggle("hidden")};g.addEventListener("click",(function(e){e.preventDefault(),"button-save"===e.target.id?s.addCard(e):"button-cancel"===e.target.id?S():"input-title"===e.target.id&&(u.setAttribute("placeholder","Your title.."),u.classList.remove("alert"))})),m.addEventListener("click",(function(e){e.preventDefault(),"button-create"===e.target.id&&S()})),window.addEventListener("DOMContentLoaded",c.handlePageLoad),y.addEventListener("input",c.searchAll),h.addEventListener("change",c.searchAll),L.addEventListener("change",c.searchAll)}]);